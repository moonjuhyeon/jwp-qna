# JPA

### 요구 사항

- QnA 서비스를 만들어가면서 JPA로 실제 도메인 모델을 어떻게 구성하고 객체와 테이블을 어떻게 매핑해야 하는지 알아본다.
- 아래의 DDL(Data Definition Language)을 보고 유추하여 엔티티 클래스와 리포지토리 클래스를 작성해 본다.
- `@DataJpaTest`를 사용하여 학습 테스트를 해 본다.

## 1단계

### TO-DO 리스트

### STEP 1

- [X] 엔티티 작성
- [X] 학습테스트 작성

### STEP 2

- [X] 엔티티 리팩토링
    - [X] auto increment 공통화
    - [X] 연관관계에 맞춘 엔티티 리팩토링
- [X] 연관관계 테스트 리팩토링

### STEP 3

- [X] 서비스 리팩토링
    - [X] 도메인(엔티티)로 비즈니스 로직 이전 리팩토링
- [X] 엔티티 리팩토링
    - [X] 질문 삭제시 삭제 상태(deleted - boolean type)로 변경 기능
    - [X] 로그인 사용자 질문한 사람 불일치시 삭제 불가능 기능
    - [X] 답변이 있는 경우 삭제 불가능 기능
    - [X] 질문자, 답변자가 다른 경우 삭제 불가능 기능
    - [X] 질문 삭제시, 답변도 삭제 삭제 상태(deleted - boolean type)로 변경 기능
    - [X] 질문, 답변 삭제 이력 DeleteHistory 저장 기능